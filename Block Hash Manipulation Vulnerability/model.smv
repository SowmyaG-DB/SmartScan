MODULE main
VAR
 state : {"Start", "NumberGenerated"};
 number : integer;
ASSIGN
 init(state) := "Start";
 init(number) := 0;
 next(state) := case
 state = "Start" : "NumberGenerated";
 TRUE : state;
 esac;
 next(number) := case
 state = "Start" & next(state) = "NumberGenerated" : number + 1;
 TRUE : number;
 esac;

-- Block Hash Manipulation Prevention
SPEC AG (state != "NumberGenerated" -> number >= 0);
